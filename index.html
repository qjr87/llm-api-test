<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LLM API Test Tool</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="alternate" hreflang="en" href="./">
    <link rel="alternate" hreflang="zh" href="./">
    <link rel="alternate" hreflang="fr" href="./">
    <link rel="alternate" hreflang="ja" href="./">
    <link rel="alternate" hreflang="de" href="./">
    <link rel="alternate" hreflang="es" href="./">
    <link rel="alternate" hreflang="ar" href="./">
</head>
<body>
    <header>
        <h1 data-i18n="title">LLM API Test Tool</h1>
        <div class="language-selector">
            <select id="languageSelect">
                <option value="en">English</option>
                <option value="zh">中文</option>
                <option value="fr">Français</option>
                <option value="ja">日本語</option>
                <option value="de">Deutsch</option>
                <option value="es">Español</option>
                <option value="ar">العربية</option>
            </select>
        </div>
    </header>

    <nav>
        <button id="configTab" class="tab-button active" data-i18n="config">Configuration</button>
        <button id="testTab" class="tab-button" data-i18n="test">Test</button>
        <button id="resultsTab" class="tab-button" data-i18n="results">Results</button>
        <button id="historyTab" class="tab-button" data-i18n="history">History</button>
    </nav>

    <main>
        <div id="configSection" class="section active">
            <h2 data-i18n="apiConfig">API Configuration</h2>
            
            <div class="config-group">
                <label for="apiProvider" data-i18n="apiProvider">API Provider:</label>
                <select id="apiProvider">
                    <option value="openai">OpenAI</option>
                    <option value="gemini">Google Gemini</option>
                    <option value="custom">Custom API</option>
                </select>
            </div>

            <div class="config-group">
                <label for="apiKey" data-i18n="apiKey">API Key:</label>
                <input type="password" id="apiKey" placeholder="Enter your API key">
            </div>

            <div class="config-group">
                <label for="apiEndpoint" data-i18n="apiEndpoint">API Endpoint:</label>
                <input type="url" id="apiEndpoint" placeholder="https://api.openai.com/v1/chat/completions">
            </div>

            <div class="config-group">
                <label for="model" data-i18n="model">Model:</label>
                <input type="text" id="model" placeholder="gpt-3.5-turbo">
            </div>

            <h3 data-i18n="testParams">Test Parameters</h3>
            
            <div class="config-group">
                <label for="testRounds" data-i18n="testRounds">Test Rounds:</label>
                <input type="number" id="testRounds" value="5" min="1" max="100">
            </div>

            <div class="config-group">
                <label for="concurrency" data-i18n="concurrency">Concurrency:</label>
                <input type="number" id="concurrency" value="1" min="1" max="10">
            </div>

            <div class="config-group">
                <label for="testPrompt" data-i18n="testPrompt">Test Prompt:</label>
                <textarea id="testPrompt" rows="3" placeholder="Hello, how are you?">Hello, how are you?</textarea>
            </div>

            <div class="config-group">
                <label for="maxTokens" data-i18n="maxTokens">Max Tokens:</label>
                <input type="number" id="maxTokens" value="100" min="1" max="4000">
            </div>

            <div class="config-group">
                <label for="temperature" data-i18n="temperature">Temperature:</label>
                <input type="number" id="temperature" value="0.7" min="0" max="2" step="0.1">
            </div>
        </div>

        <div id="testSection" class="section">
            <h2 data-i18n="runTest">Run Test</h2>
            
            <div class="test-controls">
                <button id="startTest" class="primary-button" data-i18n="startTest">Start Test</button>
                <button id="stopTest" class="secondary-button" data-i18n="stopTest" disabled>Stop Test</button>
            </div>

            <div class="progress-container">
                <div class="progress-bar">
                    <div id="progressFill" class="progress-fill"></div>
                </div>
                <span id="progressText" data-i18n="ready">Ready</span>
            </div>

            <div class="live-stats">
                <div class="stat-card">
                    <h3 data-i18n="avgFirstToken">Avg First Token</h3>
                    <span id="avgFirstToken">-</span>
                </div>
                <div class="stat-card">
                    <h3 data-i18n="avgSpeed">Avg Speed</h3>
                    <span id="avgSpeed">-</span>
                </div>
                <div class="stat-card">
                    <h3 data-i18n="successRate">Success Rate</h3>
                    <span id="successRate">-</span>
                </div>
                <div class="stat-card">
                    <h3 data-i18n="totalCost">Total Cost</h3>
                    <span id="totalCost">-</span>
                </div>
            </div>

            <div class="test-log">
                <h3 data-i18n="testLog">Test Log</h3>
                <div id="logContainer"></div>
            </div>
        </div>

        <div id="resultsSection" class="section">
            <h2 data-i18n="testResults">Test Results</h2>
            
            <div class="results-summary">
                <div class="summary-card">
                    <h3 data-i18n="summary">Summary</h3>
                    <div id="summaryContent"></div>
                </div>
            </div>

            <div class="results-table">
                <h3 data-i18n="detailedResults">Detailed Results</h3>
                <table id="resultsTable">
                    <thead>
                        <tr>
                            <th data-i18n="round">Round</th>
                            <th data-i18n="firstToken">First Token (ms)</th>
                            <th data-i18n="totalTime">Total Time (ms)</th>
                            <th data-i18n="tokens">Tokens</th>
                            <th data-i18n="speed">Speed (t/s)</th>
                            <th data-i18n="status">Status</th>
                        </tr>
                    </thead>
                    <tbody id="resultsTableBody">
                    </tbody>
                </table>
            </div>

            <div class="export-controls">
                <button id="exportJson" class="secondary-button" data-i18n="exportJson">Export JSON</button>
                <button id="exportCsv" class="secondary-button" data-i18n="exportCsv">Export CSV</button>
            </div>
        </div>

        <div id="historySection" class="section">
            <h2 data-i18n="testHistory">Test History</h2>
            
            <div class="history-controls">
                <button id="clearHistory" class="secondary-button" data-i18n="clearHistory">Clear History</button>
                <button id="exportHistory" class="secondary-button" data-i18n="exportHistory">Export History</button>
            </div>

            <div id="historyList" class="history-list">
                <!-- History items will be populated here -->
            </div>
        </div>
    </main>

    <script src="i18n.js"></script>
    <script src="api-handlers.js"></script>
    <script src="app.js"></script>
</body>
</html>